<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/">
<title>tp5.rst</title>
<style type="text/css">

/* Minimal style sheet for the HTML output of Docutils.                    */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: minimal.css 8783 2021-06-30 07:47:46Z milde $                                                               */
/* :Copyright: © 2015, 2021 Günter Milde.                                  */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*                                                                         */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */

/* This CSS3 stylesheet defines rules for Docutils elements without        */
/* HTML equivalent. It is required to make the document semantics visible. */
/*                                                                         */
/* .. _validates: http://jigsaw.w3.org/css-validator/validator$link        */

/* titles */
p.topic-title,
p.admonition-title,
p.system-message-title {
  font-weight: bold;
}
p.sidebar-title,
p.rubric {
  font-weight: bold;
  font-size: larger;
}
p.rubric {
  color: maroon;
}
p.subtitle,
p.section-subtitle,
p.sidebar-subtitle {
  font-weight: bold;
  margin-top: -0.5em;
}
h1 + p.subtitle {
  font-size: 1.6em;
}
a.toc-backref {
  color: inherit;
  text-decoration: none;
}

/* Warnings, Errors */
.system-messages h2,
.system-message-title,
span.problematic {
  color: red;
}

/* Inline Literals */
.docutils.literal {
  font-family: monospace;
  white-space: pre-wrap;
}
/* do not wrap at hyphens and similar: */
.literal > span.pre { white-space: nowrap; }

/* Lists */

/* compact and simple lists: no margin between items */
.simple  li, .simple  ul, .simple  ol,
.compact li, .compact ul, .compact ol,
.simple  > li p, dl.simple  > dd,
.compact > li p, dl.compact > dd {
  margin-top: 0;
  margin-bottom: 0;
}
/* Nested Paragraphs */
p:first-child { margin-top: 0; }
p:last-child { margin-bottom: 0; }
details > p:last-child { margin-bottom: 1em; }

/* Table of Contents */
.contents ul.auto-toc { /* section numbers present */
  list-style-type: none;
}

/* Enumerated Lists */
ol.arabic     { list-style: decimal }
ol.loweralpha { list-style: lower-alpha }
ol.upperalpha { list-style: upper-alpha }
ol.lowerroman { list-style: lower-roman }
ol.upperroman { list-style: upper-roman }

/* Definition Lists and Derivatives */
dt .classifier { font-style: italic }
dt .classifier:before {
  font-style: normal;
  margin: 0.5em;
  content: ":";
}
/* Field Lists and similar */
/* bold field name, content starts on the same line */
dl.field-list,
dl.option-list,
dl.docinfo {
  display: flow-root;
}
dl.field-list > dt,
dl.option-list > dt,
dl.docinfo > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.2em;
}
/* Offset for field content (corresponds to the --field-name-limit option) */
dl.field-list > dd,
dl.option-list > dd,
dl.docinfo > dd {
  margin-left:  9em; /* ca. 14 chars in the test examples, fit all Docinfo fields */
}
/* start nested lists on new line */
dd > dl:first-child,
dd > ul:first-child,
dd > ol:first-child {
  clear: left;
}
/* start field-body on a new line after long field names */
dl.field-list > dd > *:first-child,
dl.option-list > dd > *:first-child
{
  display: inline-block;
  width: 100%;
  margin: 0;
}

/* Bibliographic Fields (docinfo) */
dl.docinfo pre.address {
  font: inherit;
  margin: 0.5em 0;
}
dl.docinfo > dd.authors > p { margin: 0; }

/* Option Lists */
dl.option-list > dt { font-weight: normal; }
span.option { white-space: nowrap; }

/* Footnotes and Citations  */

.footnote, .citation { margin: 1em 0; } /* default paragraph skip (Firefox) */
/* hanging indent */
.citation { padding-left: 2em; }
.footnote { padding-left: 1.7em; }
.footnote.superscript { padding-left: 0.9em; }
.citation > .label { margin-left: -2em; }
.footnote > .label { margin-left: -1.7em; }
.footnote.superscript > .label { margin-left: -0.9em; }

.footnote > .label + *,
.citation > .label + * {
  display: inline-block;
  margin-top: 0;
  vertical-align: top;
}
.footnote > .backrefs + *,
.citation > .backrefs + * {
  margin-top: 0;
}
.footnote > .label + p, .footnote > .backrefs + p,
.citation > .label + p, .citation > .backrefs + p {
  display: inline;
  vertical-align: inherit;
}

.backrefs > a { font-style: italic; }

/* superscript footnotes */
a[role="doc-noteref"].superscript,
.footnote.superscript > .label,
.footnote.superscript > .backrefs {
  vertical-align: super;
  font-size: smaller;
  line-height: 1;
}
a[role="doc-noteref"].superscript > .fn-bracket,
.footnote.superscript > .label > .fn-bracket {
  /* hide brackets in display but leave for copy/paste */
  display: inline-block;
  width: 0;
  overflow: hidden;
}
[role="doc-noteref"].superscript + [role="doc-noteref"].superscript {
  padding-left: 0.15em; /* separate consecutive footnote references */
  /* TODO: unfortunately, "+" also selects with text between the references. */
}

/* Alignment */
.align-left   {
  text-align: left;
  margin-right: auto;
}
.align-center {
  text-align: center;
  margin-left: auto;
  margin-right: auto;
}
.align-right  {
  text-align: right;
  margin-left: auto;
}
.align-top    { vertical-align: top; }
.align-middle { vertical-align: middle; }
.align-bottom { vertical-align: bottom; }

/* reset inner alignment in figures and tables */
figure.align-left, figure.align-right,
table.align-left, table.align-center, table.align-right {
  text-align: inherit;
}

/* Text Blocks */
.topic { margin: 1em 2em; }
.sidebar,
.admonition,
.system-message {
  margin: 1em 2em;
  border: thin solid;
  padding: 0.5em 1em;
}
div.line-block { display: block; }
div.line-block div.line-block, pre { margin-left: 2em; }

/* Code line numbers: dropped when copying text from the page */
pre.code .ln { display: none; }
pre.code code:before {
  content: attr(data-lineno); /* …, none) fallback not supported by any browser */
  color: gray;
}

/* Tables */
table {
  border-collapse: collapse;
}
td, th {
  border: thin solid silver;
  padding: 0 1ex;
}
.borderless td, .borderless th {
  border: 0;
  padding: 0;
  padding-right: 0.5em /* separate table cells */
}

table > caption {
  text-align: left;
  margin-top: 0.2em;
  margin-bottom: 0.2em;
}
table.captionbelow {
  caption-side: bottom;
}

/* Document Header and Footer */
header { border-bottom: 1px solid black; }
footer { border-top: 1px solid black; }

/* Images are block-level by default in Docutils */
/* New HTML5 block elements: set display for older browsers */
img, header, footer, main, aside, nav, section, figure, video, details {
  display: block;
}
/* inline images */
p img, p video, figure img, figure video {
  display: inline;
}

</style>
<style type="text/css">

/* CSS31_ style sheet for the output of Docutils HTML writers.             */
/* Rules for easy reading and pre-defined style variants.                  */
/*                                                                         */
/* :Author: Günter Milde, based on html4css1.css by David Goodger          */
/* :Id: $Id: plain.css 8805 2021-08-10 14:13:35Z milde $                                                               */
/* :Copyright: © 2015 Günter Milde.                                        */
/* :License: Released under the terms of the `2-Clause BSD license`_,      */
/*    in short:                                                            */
/*                                                                         */
/*    Copying and distribution of this file, with or without modification, */
/*    are permitted in any medium without royalty provided the copyright   */
/*    notice and this notice are preserved.                                */
/*                                                                         */
/*    This file is offered as-is, without any warranty.                    */
/*                                                                         */
/* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause     */
/* .. _CSS3: http://www.w3.org/TR/CSS3                                     */


/* Document Structure */
/* ****************** */

/* "page layout" */
body {
  margin: 0;
  background-color: #dbdbdb;
  --field-indent: 9em; /* default indent of fields in field lists */
}
main, footer, header {
  line-height:1.6;
  /* avoid long lines --> better reading */
  /* optimum is 45…75 characters/line <http://webtypography.net/2.1.2> */
  /* OTOH: lines should not be too short because of missing hyphenation, */
  max-width: 50rem;
  padding: 1px 2%; /* 1px on top avoids grey bar above title (mozilla) */
  margin: auto;
}
main {
  counter-reset: table figure;
  background-color: white;
}
footer, header {
  font-size: smaller;
  padding: 0.5em 2%;
  border: none;
}

/* Table of Contents */
ul.auto-toc > li > p {
  padding-left: 1em;
  text-indent: -1em;
}
nav.contents ul {
  padding-left: 1em;
}
main > nav.contents ul ul ul ul:not(.auto-toc) {
  list-style-type: '\2B29\ ';
}
main > nav.contents ul ul ul ul ul:not(.auto-toc) {
  list-style-type: '\2B1D\ ';
}

/* Transitions */
hr.docutils {
  width: 80%;
  margin-top: 1em;
  margin-bottom: 1em;
  clear: both;
}

/* Paragraphs */

/* vertical space (parskip) */
p, ol, ul, dl, li,
div.line-block,
.footnote, .citation,
div > math,
table {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

h1, h2, h3, h4, h5, h6,
dd, details > p:last-child {
  margin-bottom: 0.5em;
}

/* Lists */
/* ===== */

/* Definition Lists */
/* Indent lists nested in definition lists */
dd > ul:only-child, dd > ol:only-child { padding-left: 1em; }

/* Description Lists */
/* styled like in most dictionaries, encyclopedias etc. */
dl.description {
  display: flow-root;
}
dl.description > dt {
  font-weight: bold;
  clear: left;
  float: left;
  margin: 0;
  padding: 0;
  padding-right: 0.3em;
}
dl.description > dd:after {
  display: table;
  content: "";
  clear: left; /* clearfix for empty descriptions */
}

/* Field Lists */

dl.field-list > dd,
dl.docinfo > dd {
  margin-left: var(--field-indent); /* adapted in media queries or HTML */
}

/* example for custom field-name width */
dl.field-list.narrow > dd {
  --field-indent: 5em;
}
/* run-in: start field-body on same line after long field names */
dl.field-list.run-in > dd p {
  display: block;
}

/* Bibliographic Fields */

/* generally, bibliographic fields use dl.docinfo */
/* but dedication and abstract are placed into divs */
div.abstract p.topic-title {
  text-align: center;
}
div.dedication {
  margin: 2em 5em;
  text-align: center;
  font-style: italic;
}
div.dedication p.topic-title {
  font-style: normal;
}

/* disclosures */
details { padding-left: 1em; }
summary { margin-left: -1em; }

/* Text Blocks */
/* =========== */

/* Literal Blocks */
pre.literal-block, pre.doctest-block,
pre.math, pre.code {
  font-family: monospace;
}

/* Block Quotes and Topics */
bockquote { margin: 1em 2em; }
blockquote p.attribution,
.topic p.attribution {
  text-align: right;
  margin-left: 20%;
}

/* Tables */
/* ====== */

/* th { vertical-align: bottom; } */

table tr { text-align: left; }

/* "booktabs" style (no vertical lines) */
table.booktabs {
  border: 0;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.booktabs * {
  border: 0;
}
table.booktabs th {
  border-bottom: thin solid;
}

/* numbered tables (counter defined in div.document) */
table.numbered > caption:before {
  counter-increment: table;
  content: "Table " counter(table) ": ";
  font-weight: bold;
}

/* Explicit Markup Blocks */
/* ====================== */

/* Footnotes and Citations */
/* ----------------------- */

/* line on the left */
.footnote {
  border-left: solid thin;
  padding-left: 2.1em;
  margin-bottom: 0;
}
.footnote + .footnote {
  padding-top: 0.5em;
  margin-top: 0;
}
.footnote.superscript {
  padding-left: 1.2em;
}

/* Directives */
/* ---------- */

/* Body Elements */
/* ~~~~~~~~~~~~~ */

/* Images and Figures */

/* let content flow to the side of aligned images and figures */
figure.align-left,
img.align-left,
video.align-left,
object.align-left {
  clear: left;
  float: left;
  margin-right: 1em;
}
figure.align-right,
img.align-right,
video.align-right,
object.align-right {
  clear: right;
  float: right;
  margin-left: 1em;
}
/* Stop floating sidebars, images and figures */
h1, h2, h3, h4, footer, header { clear: both; }

/* Numbered figures */
figure.numbered > figcaption > p:before {
  counter-increment: figure;
  content: "Figure " counter(figure) ": ";
  font-weight: bold;
}

/* Admonitions and System Messages */
.caution p.admonition-title,
.attention p.admonition-title,
.danger p.admonition-title,
.error p.admonition-title,
.warning p.admonition-title,
div.error {
  color: red;
}

/* Sidebar */
/* Move right. In a layout with fixed margins, */
/* it can be moved into the margin.            */
aside.sidebar {
  width: 30%;
  max-width: 26em;
  float: right;
  clear: right;
  margin-left: 1em;
  margin-right: -1%;
  background-color: #fffffa;
}


/* Code */
pre.code { padding: 0.7ex }
pre.code, code { background-color: #eeeeee }
/* basic highlighting: for a complete scheme, see */
/* http://docutils.sourceforge.net/sandbox/stylesheets/ */
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

/* Math */
/* for math-output=MathML (for math-output=HTML, see math.css) */
math .boldsymbol {
  font-weight: bold;
}
mstyle.mathscr, mi.mathscr {
  font-family: STIX;
}

/* Epigraph           */
/* Highlights         */
/* Pull-Quote         */
/* Compound Paragraph */
/* Container          */

/* Inline Markup */
/* ============= */

sup, sub { line-height: 0.8; } /* do not add leading for lines with sup/sub */

/* Inline Literals                                          */
/* possible values: normal, nowrap, pre, pre-wrap, pre-line */
/*   span.docutils.literal { white-space: pre-wrap; }       */

/* Hyperlink References */
a { text-decoration: none; }

/* External Targets       */
/*   span.target.external */
/* Internal Targets       */
/*   span.target.internal */
/* Footnote References    */
/*   a[role="doc-noteref"] */
/* Citation References    */
/*   a.citation-reference */

</style>
</head>
<body>
<main>


<table class="align-center" style="width: 100%;">
<colgroup>
<col style="width: 80%">
<col style="width: 20%">
</colgroup>
<tbody>
<tr><td><p>Université d'Orléans</p></td>
<td><p>L2 Informatique</p></td>
</tr>
<tr><td><p>Programmation fonctionnelle</p></td>
<td><p>2021-2022</p></td>
</tr>
</tbody>
</table>
<section id="tp-n5">
<h2>TP n°5</h2>
<p>Dans ce TP nous allons utiliser les définitions de types
enregistrements pour représenter des graphes, vus comme des listes de
sommets et des listes d’arêtes. Il pourra être pertinent de réutiliser les
fonctions <code class="ocaml"><span class="name">forall</span></code> et <code class="ocaml"><span class="name">exists</span></code> codées au TP précédent.</p>
<p>Il est recommandé de conserver après chaque exercice une copie de vos
définitions pour pouvoir les réutiliser et les modifier facilement
même si vous utilisez un interpréteur en ligne de commande.</p>
<section id="exercice-0">
<h3>Exercice 0</h3>
<section id="question-1">
<h4>Question 1</h4>
<p>Pour vous échauffer, écrivez une fonction <code class="ocaml"><span class="name">sans_doublons</span> <span class="operator">:</span> <span class="keyword">'</span><span class="name">a</span>
<span class="keyword type">list</span> <span class="operator">-&gt;</span> <span class="keyword type">bool</span></code> qui teste si une liste
comporte ou non des doublons. Vous pourrez écrire auparavant une fonction
<code class="ocaml"><span class="name">in_list</span> <span class="operator">:</span> <span class="keyword">'</span><span class="name">a</span> <span class="operator">-&gt;</span> <span class="keyword">'</span><span class="name">a</span> <span class="keyword type">list</span> <span class="operator">-&gt;</span> <span class="keyword type">bool</span></code> qui teste l’appartenance d’un élément
à une liste.</p>
</section>
<section id="question-2">
<h4>Question 2</h4>
<p>En fait, cette fonction <code class="ocaml"><span class="name">in_list</span></code> existe déjà quelque part
(mais peut s’appeler autrement). Trouvez-la.</p>
</section>
<section id="question-3">
<h4>Question 3</h4>
<p>Si vous avez trouvé ce qu’on cherchait à la question 2, explorez
davantage ce qu’il y a autour et profitez-en pour voir si vous
reconnaissez d’autres choses familières.</p>
</section>
</section>
<section id="exercice-1">
<h3>Exercice 1</h3>
<section id="question-1-1">
<h4>Question 1</h4>
<p>Définissez un type <code class="ocaml"><span class="name">vertex</span></code> représentant les sommets d’un
graphe (indexés par des entiers),
et un type <code class="ocaml"><span class="name">edge</span></code> représentant les arcs pouvant relier
ces sommets (avec un sommet <code class="ocaml"><span class="name">source</span></code> et un sommet
<code class="ocaml"><span class="name">cible</span></code> de chaque arc).</p>
</section>
<section id="question-2-1">
<h4>Question 2</h4>
<p>Définissez un type <code class="ocaml"><span class="name">graph</span></code> représenté comme une liste
<code class="ocaml"><span class="name">vertices</span></code> de
sommets et une liste <code class="ocaml"><span class="name">edges</span></code> d’arcs.</p>
</section>
<section id="question-3-1">
<h4>Question 3</h4>
<p>Définissez un type somme <code class="ocaml"><span class="name">sommet_ou_rien</span></code> avec deux
constructeurs, de façon à ce que les expressions de ce type soient
égales, soit à <code class="ocaml"><span class="name class">Rien</span></code>, soit à <code class="ocaml"><span class="name class">Sommet</span> <span class="name">v</span></code> où <code class="ocaml"><span class="name">v</span></code>
est une expression de type <code class="ocaml"><span class="name">vertex</span></code>.</p>
<p>Définissez une fonction de type <code class="ocaml"><span class="name">graph</span> <span class="operator">-&gt;</span> <span class="name">sommet_ou_rien</span></code> qui
renvoie un sommet quelconque du graphe s’il n’est pas vide, et
<code class="ocaml"><span class="name class">Rien</span></code> s’il est vide.</p>
</section>
</section>
<section id="exercice-2">
<h3>Exercice 2</h3>
<section id="question-1-2">
<h4>Question 1</h4>
<p>Définissez une fonction <code class="ocaml"><span class="name">voisins</span> <span class="operator">:</span> <span class="name">vertex</span> <span class="operator">-&gt;</span> <span class="name">graph</span> <span class="operator">-&gt;</span> <span class="name">vertex</span> <span class="keyword type">list</span></code>
qui retourne la liste d’adjacence d’un sommet. C’est-à-dire que
<code class="ocaml"><span class="name">voisins</span> <span class="name">v</span> <span class="name">g</span></code> retournera la liste de tous les sommets qui sont la
cible d’un arc dont <code class="ocaml"><span class="name">v</span></code> est la source.</p>
<p>Indication : utilisez une fonction auxiliaire récursive
de type <code class="ocaml"><span class="name">vertex</span> <span class="operator">-&gt;</span> <span class="name">edge</span> <span class="keyword type">list</span> <span class="operator">-&gt;</span> <span class="name">vertex</span> <span class="keyword type">list</span></code>.</p>
<p>Si vous deviez changer votre programme pour accéder aux voisins d’un
sommet de façon plus efficace, que modifieriez-vous&nbsp;?</p>
</section>
<section id="question-2-2">
<h4>Question 2</h4>
<p>Un problème est que les objets du type <code class="ocaml"><span class="name">graph</span></code> peuvent ne pas être des
graphes correctement définis.</p>
<p>Écrivez des fonctions (de type
<code class="ocaml"><span class="name">graph</span> <span class="operator">-&gt;</span> <span class="keyword type">bool</span></code>) qui vérifient
que les propriétés élémentaires des graphes simples sont respectées :</p>
<ul class="simple">
<li><p><code class="ocaml"><span class="name">sans_boucle</span></code> vérifiera l’absence de boucles (les arcs ayant le même sommet pour source et pour cible)</p></li>
<li><p><code class="ocaml"><span class="name">simple</span></code> vérifiera l’absence d’arcs multiples (plusieurs arcs de même source et cible).</p></li>
<li><p><code class="ocaml"><span class="name">coherent</span></code> 
vérifiera que tous les arcs qui apparaissent dans E relient des sommets 
qui apparaissent dans V. (il n’y a pas d’arc faisant référence à un 
sommet, comme source ou cible, hors de V)</p></li>
</ul>
<p>Écrivez enfin une fonction <code class="ocaml"><span class="name">correct</span></code> qui teste si un objet de
type <cite>graph</cite> est bien défini.</p>
</section>
<section id="question-3-2">
<h4>Question 3</h4>
<p>Définissez les fonctions <code class="ocaml"><span class="name">degre_ent</span></code> et <code class="ocaml"><span class="name">degre_sort</span></code> de
type <code class="ocaml"><span class="name">graph</span> <span class="operator">-&gt;</span> <span class="name">vertex</span> <span class="operator">-&gt;</span> <span class="keyword type">int</span></code> calculant le degré entrant (le
nombre d’arcs arrivant) et le degré sortant (le nombre d’arcs partant)
d’un sommet du graphe.</p>
</section>
</section>
<section id="exercice-3">
<h3>Exercice 3</h3>
<p>Définissez une fonction <code class="ocaml"><span class="name">chemin</span> <span class="operator">:</span> <span class="name">edge</span> <span class="keyword type">list</span> <span class="operator">-&gt;</span> <span class="keyword type">bool</span></code> qui
détermine si une liste d’arcs correspond à un chemin.</p>
</section>
<section id="exercice-4">
<h3>Exercice 4</h3>
<p>Comment modifiriez-vous les définitions précédentes pour que les
sommets des graphes puissent être étiquetés ? Par exemple par des
états ("atteint", "non atteint").</p>
<p>Quel serait seraientt les types, avec des graphes étiquetés, des fonctions
<code class="ocaml"><span class="name">visit</span></code>, et <code class="ocaml"><span class="name">parcours_profondeur</span></code> ?</p>
</section>
</section>
</main>


</body></html>